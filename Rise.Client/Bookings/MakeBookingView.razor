@page "/MakeBookingView"
@using Microsoft.IdentityModel.Tokens
@inject HttpClient HttpClient
@inject Microsoft.Extensions.Localization.IStringLocalizer<MakeBookingView> Localizer

<main class="main-content mt-0">
    <div class="page-header align-items-center min-vh-100" >
        <div class="container my-auto">
            
            <PageTitle>@Localizer["Title"]</PageTitle>

            <div class="bg-gradient-dark shadow-dark calendar">
                <MudCalendar Class="calendar" Items="_events" CellClicked="CellClicked" ItemClicked="ItemClicked" DayTimeInterval="CalendarTimeInterval.Minutes15" />
            </div>
            
        </div>
    </div>
</main>

@code {
    [Inject]
    private IDialogService DialogService { get; set; }

    private Task CellClicked(DateTime dateTime)
    {
        return DialogService.ShowMessageBox("Cell Clicked", dateTime.ToString(Thread.CurrentThread.CurrentCulture));
    }

    private Task ItemClicked(CalendarItem item)
    {
        return DialogService.ShowMessageBox("Item Clicked", item.Text);
    }

    private List<CalendarItem> _events = new()
    {
        new CalendarItem
        {
            Start = DateTime.Today.AddHours(10),
            End = DateTime.Today.AddHours(11),
            Text = "Event today"
        },
        new CalendarItem
        {
            Start = DateTime.Today.AddDays(1).AddHours(11),
            End = DateTime.Today.AddDays(1).AddHours(12.5),
            Text = "Event tomorrow"
        }
    };
}
